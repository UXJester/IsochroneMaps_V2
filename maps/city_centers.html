<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><script>L_NO_TOUCH=false;L_DISABLE_3D=false;</script><style>html,body{width:100%;height:100%;margin:0;padding:0}</style><style>#map{position:absolute;top:0;bottom:0;right:0;left:0}</style><script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script><script src="https://code.jquery.com/jquery-3.7.1.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"><meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><style>#map_e96e5bad193df4f735d03150b3150734{position:relative;width:100.0%;height:100.0%;left:0;top:0}.leaflet-container{font-size:1rem}</style><script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw.css"><style>.custom-tooltip{background-color:black;border:1px solid #000;border-radius:5px;color:white;font-size:12px;margin-top:-22px;padding:5px;text-align:center}.custom-tooltip::before{border-top-color:#000;margin-left:-5px}</style></head><body><div class="folium-map" id="map_e96e5bad193df4f735d03150b3150734"></div></body><script>var map_e96e5bad193df4f735d03150b3150734=L.map("map_e96e5bad193df4f735d03150b3150734",{center:[41.2964104264669,-88.83033555861162],crs:L.CRS.EPSG3857,...{"zoom":8,"zoomControl":true,"preferCanvas":false,}});L.control.scale().addTo(map_e96e5bad193df4f735d03150b3150734);var tile_layer_1cc19511ed4b332de5c27f73f35609d0=L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{"minZoom":5,"maxZoom":12,"maxNativeZoom":12,"noWrap":false,"attribution":"\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors","subdomains":"abc","detectRetina":false,"tms":false,"opacity":1,});tile_layer_1cc19511ed4b332de5c27f73f35609d0.addTo(map_e96e5bad193df4f735d03150b3150734);var feature_group_8ee8f113f5ea331b9adaed20f0d0dfc9=L.featureGroup({});feature_group_8ee8f113f5ea331b9adaed20f0d0dfc9.addTo(map_e96e5bad193df4f735d03150b3150734);var feature_group_e7e72203354548c0d34c1d31925ab2ba=L.featureGroup({});function geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_styler(feature){switch(feature.properties.group_index){default:return{"color":"#109618","fillColor":"#109618","fillOpacity":0.4,"weight":2};}}
function geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_onEachFeature(feature,layer){layer.on({});};var geo_json_1dba2cfbb1ca4d8052e56ead14a5959f=L.geoJson(null,{onEachFeature:geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_onEachFeature,style:geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_styler,...{}});function geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_add(data){geo_json_1dba2cfbb1ca4d8052e56ead14a5959f.addData(data);}
geo_json_1dba2cfbb1ca4d8052e56ead14a5959f_add({"features":[{"geometry":{"coordinates":[[[-89.04305,41.900501],[-88.763772,41.767317],[-88.697318,41.708849],[-88.572574,41.572507],[-88.537479,41.379263],[-88.537432,41.375663],[-88.282336,41.219627],[-88.085566,41.319453],[-87.957889,41.353085],[-87.764459,41.400376],[-87.599718,41.576873],[-87.599401,41.578541],[-87.599218,41.580439],[-87.593955,41.818218],[-87.601268,41.892157],[-87.709824,42.005798],[-87.834631,42.169039],[-87.899462,42.237147],[-87.903062,42.237143],[-88.111659,42.21385],[-88.404527,42.110683],[-88.470943,42.090371],[-88.55118,42.05778],[-88.784789,42.015139],[-89.025509,41.916627],[-89.043539,41.904068],[-89.04305,41.900501]]],"type":"Polygon"},"properties":{"center":[-88.14785056868095,41.772867475932635],"group_index":0,"name":"Naperville","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_1dba2cfbb1ca4d8052e56ead14a5959f.bindTooltip(`<div>Isochrone for Naperville:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_1dba2cfbb1ca4d8052e56ead14a5959f.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_3406940df86f065504db672ff947acca_styler(feature){switch(feature.properties.group_index){default:return{"color":"#DC3912","fillColor":"#DC3912","fillOpacity":0.4,"weight":2};}}
function geo_json_3406940df86f065504db672ff947acca_onEachFeature(feature,layer){layer.on({});};var geo_json_3406940df86f065504db672ff947acca=L.geoJson(null,{onEachFeature:geo_json_3406940df86f065504db672ff947acca_onEachFeature,style:geo_json_3406940df86f065504db672ff947acca_styler,...{}});function geo_json_3406940df86f065504db672ff947acca_add(data){geo_json_3406940df86f065504db672ff947acca.addData(data);}
geo_json_3406940df86f065504db672ff947acca_add({"features":[{"geometry":{"coordinates":[[[-88.403138,42.106174],[-88.478459,41.824222],[-88.477448,41.822917],[-88.476777,41.8221],[-88.475442,41.820479],[-88.474805,41.819863],[-88.417739,41.766359],[-88.204337,41.612057],[-88.182153,41.549295],[-88.060279,41.511395],[-87.823514,41.315579],[-87.820004,41.314782],[-87.52422,41.417892],[-87.315744,41.522052],[-87.138976,41.570051],[-87.134749,41.603965],[-87.136044,41.607323],[-87.253726,41.619937],[-87.409741,41.671006],[-87.601268,41.892157],[-87.67097,42.05929],[-87.681029,42.079244],[-87.829948,42.347853],[-87.831464,42.349825],[-87.894273,42.371036],[-87.934781,42.360642],[-87.937441,42.358216],[-88.108229,42.192357],[-88.23149,42.135734],[-88.401974,42.109581],[-88.403138,42.106174]]],"type":"Polygon"},"properties":{"center":[-87.62434832724945,41.87556204333322],"group_index":0,"name":"Chicago","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_3406940df86f065504db672ff947acca.bindTooltip(`<div>Isochrone for Chicago:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_3406940df86f065504db672ff947acca.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_0c430263bfb973fa4252a05fe956d12b_styler(feature){switch(feature.properties.group_index){default:return{"color":"#0099C6","fillColor":"#0099C6","fillOpacity":0.4,"weight":2};}}
function geo_json_0c430263bfb973fa4252a05fe956d12b_onEachFeature(feature,layer){layer.on({});};var geo_json_0c430263bfb973fa4252a05fe956d12b=L.geoJson(null,{onEachFeature:geo_json_0c430263bfb973fa4252a05fe956d12b_onEachFeature,style:geo_json_0c430263bfb973fa4252a05fe956d12b_styler,...{}});function geo_json_0c430263bfb973fa4252a05fe956d12b_add(data){geo_json_0c430263bfb973fa4252a05fe956d12b.addData(data);}
geo_json_0c430263bfb973fa4252a05fe956d12b_add({"features":[{"geometry":{"coordinates":[[[-90.47579,40.916664],[-90.285656,40.709463],[-90.275713,40.697086],[-90.182322,40.560187],[-90.162482,40.393122],[-90.16248,40.39293],[-90.161834,40.39135],[-90.155464,40.386511],[-90.090054,40.339668],[-90.086456,40.339797],[-89.84673,40.294406],[-89.697443,40.227516],[-89.559771,39.954972],[-89.556208,39.954454],[-89.304299,40.081888],[-89.301637,40.084311],[-89.24833,40.147949],[-88.968022,40.227166],[-88.726672,40.308875],[-88.724426,40.311688],[-88.747613,40.345235],[-88.739189,40.637641],[-88.735213,40.72282],[-88.735192,40.723812],[-88.735203,40.724751],[-88.735337,40.730094],[-88.735472,40.735436],[-89.000184,40.870236],[-89.139412,41.031401],[-89.220749,41.120244],[-89.345059,41.262126],[-89.398923,41.299441],[-89.402523,41.299369],[-89.661475,41.179228],[-89.924304,41.165955],[-89.927902,41.16586],[-90.009553,41.107128],[-90.044005,41.081928],[-90.329355,41.149007],[-90.332916,41.149532],[-90.446959,40.985586],[-90.466404,40.949184],[-90.477525,40.919818],[-90.47579,40.916664]]],"type":"Polygon"},"properties":{"center":[-89.58901895606702,40.69378463124665],"group_index":0,"name":"Peoria","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_0c430263bfb973fa4252a05fe956d12b.bindTooltip(`<div>Isochrone for Peoria:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_0c430263bfb973fa4252a05fe956d12b.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_styler(feature){switch(feature.properties.group_index){default:return{"color":"#FF9900","fillColor":"#FF9900","fillOpacity":0.4,"weight":2};}}
function geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_onEachFeature(feature,layer){layer.on({});};var geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc=L.geoJson(null,{onEachFeature:geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_onEachFeature,style:geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_styler,...{}});function geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_add(data){geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc.addData(data);}
geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc_add({"features":[{"geometry":{"coordinates":[[[-90.544312,39.682582],[-90.330872,39.546187],[-90.229982,39.542076],[-90.226382,39.542051],[-89.983351,39.494643],[-89.891105,39.367677],[-89.872402,39.334513],[-89.8347,39.275106],[-89.769429,39.072699],[-89.757618,39.045799],[-89.754018,39.045821],[-89.586404,39.172327],[-89.535838,39.21235],[-89.461233,39.303173],[-89.295749,39.426231],[-89.141383,39.434155],[-89.140144,39.434467],[-88.982346,39.62281],[-88.830887,39.732634],[-88.82854,39.735364],[-88.730661,40.015832],[-88.730964,40.019419],[-88.735493,40.019036],[-88.740022,40.018654],[-88.745309,40.018205],[-88.963788,40.076812],[-89.108515,40.313535],[-89.105992,40.358229],[-89.108699,40.360602],[-89.415914,40.426824],[-89.469612,40.48061],[-89.473212,40.480561],[-89.60847,40.307308],[-89.803539,40.227197],[-89.985345,40.126769],[-90.215386,39.960022],[-90.425134,39.778781],[-90.544067,39.686174],[-90.544312,39.682582]]],"type":"Polygon"},"properties":{"center":[-89.64396199848665,39.798808487138885],"group_index":0,"name":"Springfield","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc.bindTooltip(`<div>Isochrone for Springfield:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_31b52bb6651bbe7a948d41ca7cc7b8fc.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_7aff450ec70d24cdcd363aa9b72a190a_styler(feature){switch(feature.properties.group_index){default:return{"color":"#3366CC","fillColor":"#3366CC","fillOpacity":0.4,"weight":2};}}
function geo_json_7aff450ec70d24cdcd363aa9b72a190a_onEachFeature(feature,layer){layer.on({});};var geo_json_7aff450ec70d24cdcd363aa9b72a190a=L.geoJson(null,{onEachFeature:geo_json_7aff450ec70d24cdcd363aa9b72a190a_onEachFeature,style:geo_json_7aff450ec70d24cdcd363aa9b72a190a_styler,...{}});function geo_json_7aff450ec70d24cdcd363aa9b72a190a_add(data){geo_json_7aff450ec70d24cdcd363aa9b72a190a.addData(data);}
geo_json_7aff450ec70d24cdcd363aa9b72a190a_add({"features":[{"geometry":{"coordinates":[[[-90.003243,42.356949],[-90.001631,42.355277],[-89.771065,42.152764],[-89.747217,42.141192],[-89.589302,42.035619],[-89.481338,41.81807],[-89.479725,41.814852],[-89.231999,41.756292],[-89.063171,41.555156],[-89.05959,41.555532],[-88.905755,41.688277],[-88.818256,41.767018],[-88.575006,41.865379],[-88.340736,42.032288],[-88.285081,42.032264],[-88.284994,42.032292],[-88.191732,42.057498],[-88.161952,42.064677],[-88.161953,42.068277],[-88.371582,42.191961],[-88.463375,42.462082],[-88.508982,42.684047],[-88.511461,42.686657],[-88.732058,42.72028],[-88.887875,42.871352],[-88.890483,42.873833],[-89.084098,42.930516],[-89.087569,42.929561],[-89.28888,42.717708],[-89.368506,42.703121],[-89.368567,42.703111],[-89.388483,42.692482],[-89.662748,42.557395],[-89.906106,42.430119],[-89.983798,42.375242],[-90.001681,42.358876],[-90.003246,42.357014],[-90.003243,42.356949]]],"type":"Polygon"},"properties":{"center":[-89.09380648549796,42.27160374865368],"group_index":0,"name":"Rockford","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_7aff450ec70d24cdcd363aa9b72a190a.bindTooltip(`<div>Isochrone for Rockford:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_7aff450ec70d24cdcd363aa9b72a190a.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_1fc0321130b908f4bedb939609e39f3a_styler(feature){switch(feature.properties.group_index){default:return{"color":"#990099","fillColor":"#990099","fillOpacity":0.4,"weight":2};}}
function geo_json_1fc0321130b908f4bedb939609e39f3a_onEachFeature(feature,layer){layer.on({});};var geo_json_1fc0321130b908f4bedb939609e39f3a=L.geoJson(null,{onEachFeature:geo_json_1fc0321130b908f4bedb939609e39f3a_onEachFeature,style:geo_json_1fc0321130b908f4bedb939609e39f3a_styler,...{}});function geo_json_1fc0321130b908f4bedb939609e39f3a_add(data){geo_json_1fc0321130b908f4bedb939609e39f3a.addData(data);}
geo_json_1fc0321130b908f4bedb939609e39f3a_add({"features":[{"geometry":{"coordinates":[[[-89.904064,41.402633],[-89.685421,41.298785],[-89.479619,41.18297],[-89.407834,41.081203],[-89.405617,41.078368],[-89.161383,40.91036],[-89.108174,40.851202],[-89.036379,40.757748],[-89.032781,40.757845],[-88.814774,40.930325],[-88.7325,40.951316],[-88.553467,40.971435],[-88.41532,41.007787],[-88.306516,41.088174],[-88.299352,41.094079],[-88.080468,41.319561],[-87.934994,41.542277],[-87.9358,41.545786],[-88.052769,41.694921],[-88.124615,41.686248],[-88.307992,41.689812],[-88.46971,41.739952],[-88.477792,41.742499],[-88.752181,41.831107],[-88.895207,41.901358],[-89.018776,41.999578],[-89.022376,41.999552],[-89.110548,41.888514],[-89.32964,41.718614],[-89.331138,41.717629],[-89.460161,41.607956],[-89.687257,41.487346],[-89.903264,41.406142],[-89.904064,41.402633]]],"type":"Polygon"},"properties":{"center":[-88.84591504117277,41.351662823954406],"group_index":0,"name":"Ottawa","value":3600.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_1fc0321130b908f4bedb939609e39f3a.bindTooltip(`<div>Isochrone for Ottawa:&nbsp;<b>60.0 minutes</b></div>`,{"sticky":true,});geo_json_1fc0321130b908f4bedb939609e39f3a.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_a3de8d9a68f2b66d054f6e1a8daff345_styler(feature){switch(feature.properties.group_index){default:return{"color":"#109618","fillColor":"#109618","fillOpacity":0.4,"weight":2};}}
function geo_json_a3de8d9a68f2b66d054f6e1a8daff345_onEachFeature(feature,layer){layer.on({});};var geo_json_a3de8d9a68f2b66d054f6e1a8daff345=L.geoJson(null,{onEachFeature:geo_json_a3de8d9a68f2b66d054f6e1a8daff345_onEachFeature,style:geo_json_a3de8d9a68f2b66d054f6e1a8daff345_styler,...{}});function geo_json_a3de8d9a68f2b66d054f6e1a8daff345_add(data){geo_json_a3de8d9a68f2b66d054f6e1a8daff345.addData(data);}
geo_json_a3de8d9a68f2b66d054f6e1a8daff345_add({"features":[{"geometry":{"coordinates":[[[-88.477448,41.822917],[-88.476777,41.8221],[-88.475442,41.820479],[-88.474805,41.819863],[-88.417755,41.766351],[-88.340243,41.717596],[-88.310358,41.701774],[-88.190065,41.628705],[-88.165356,41.619797],[-88.161757,41.619869],[-88.016498,41.596294],[-88.005886,41.583545],[-88.002864,41.585503],[-87.974704,41.656969],[-87.946035,41.738794],[-87.907634,41.800564],[-87.8721,41.868994],[-87.872238,41.872591],[-87.917869,41.910333],[-88.024143,41.962811],[-88.027726,41.96316],[-88.15049,41.912277],[-88.247842,41.881801],[-88.372147,41.82289],[-88.475676,41.826508],[-88.478522,41.824304],[-88.477448,41.822917]]],"type":"Polygon"},"properties":{"center":[-88.14785056868095,41.772867475932635],"group_index":0,"name":"Naperville","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_a3de8d9a68f2b66d054f6e1a8daff345.bindTooltip(`<div>Isochrone for Naperville:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_a3de8d9a68f2b66d054f6e1a8daff345.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_10de37b0c38572f7c59a79507c3d8939_styler(feature){switch(feature.properties.group_index){default:return{"color":"#DC3912","fillColor":"#DC3912","fillOpacity":0.4,"weight":2};}}
function geo_json_10de37b0c38572f7c59a79507c3d8939_onEachFeature(feature,layer){layer.on({});};var geo_json_10de37b0c38572f7c59a79507c3d8939=L.geoJson(null,{onEachFeature:geo_json_10de37b0c38572f7c59a79507c3d8939_onEachFeature,style:geo_json_10de37b0c38572f7c59a79507c3d8939_styler,...{}});function geo_json_10de37b0c38572f7c59a79507c3d8939_add(data){geo_json_10de37b0c38572f7c59a79507c3d8939.addData(data);}
geo_json_10de37b0c38572f7c59a79507c3d8939_add({"features":[{"geometry":{"coordinates":[[[-87.973051,41.842674],[-87.875487,41.759191],[-87.874523,41.759209],[-87.871882,41.759445],[-87.869926,41.759722],[-87.865402,41.760309],[-87.861994,41.760777],[-87.853029,41.762036],[-87.852409,41.762155],[-87.715605,41.713211],[-87.694115,41.67528],[-87.691758,41.669857],[-87.689958,41.668045],[-87.663094,41.639695],[-87.659577,41.638924],[-87.580943,41.647263],[-87.577758,41.64855],[-87.525211,41.706446],[-87.530955,41.736294],[-87.532376,41.739602],[-87.539231,41.750352],[-87.601268,41.892157],[-87.663437,42.021638],[-87.666367,42.024353],[-87.760994,42.057316],[-87.846164,41.985844],[-87.923869,41.904429],[-87.9731,41.846274],[-87.973051,41.842674]]],"type":"Polygon"},"properties":{"center":[-87.62434832724945,41.87556204333322],"group_index":0,"name":"Chicago","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_10de37b0c38572f7c59a79507c3d8939.bindTooltip(`<div>Isochrone for Chicago:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_10de37b0c38572f7c59a79507c3d8939.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_b62debee9f7a549a853b1781b93eb160_styler(feature){switch(feature.properties.group_index){default:return{"color":"#0099C6","fillColor":"#0099C6","fillOpacity":0.4,"weight":2};}}
function geo_json_b62debee9f7a549a853b1781b93eb160_onEachFeature(feature,layer){layer.on({});};var geo_json_b62debee9f7a549a853b1781b93eb160=L.geoJson(null,{onEachFeature:geo_json_b62debee9f7a549a853b1781b93eb160_onEachFeature,style:geo_json_b62debee9f7a549a853b1781b93eb160_styler,...{}});function geo_json_b62debee9f7a549a853b1781b93eb160_add(data){geo_json_b62debee9f7a549a853b1781b93eb160.addData(data);}
geo_json_b62debee9f7a549a853b1781b93eb160_add({"features":[{"geometry":{"coordinates":[[[-90.039892,40.867683],[-90.035517,40.866677],[-90.013949,40.859936],[-90.01143,40.859009],[-90.008945,40.858094],[-90.005808,40.856894],[-90.003022,40.855823],[-90.000717,40.854997],[-89.999005,40.854364],[-89.990086,40.850724],[-89.988973,40.850397],[-89.987359,40.850027],[-89.929515,40.81648],[-89.920482,40.69986],[-89.920544,40.69626],[-89.873981,40.547401],[-89.885013,40.524091],[-89.883589,40.520785],[-89.784652,40.511319],[-89.701089,40.477603],[-89.661449,40.457485],[-89.530632,40.436362],[-89.478277,40.378608],[-89.456758,40.350624],[-89.453159,40.35071],[-89.407343,40.423372],[-89.349068,40.529536],[-89.230631,40.607734],[-89.151373,40.580121],[-89.128987,40.570801],[-89.126922,40.57375],[-89.136873,40.583358],[-89.148948,40.591534],[-89.149482,40.591906],[-89.151066,40.592923],[-89.155029,40.595388],[-89.15897,40.597839],[-89.161155,40.599181],[-89.16333,40.600516],[-89.252319,40.727747],[-89.284188,40.794133],[-89.339051,40.834696],[-89.342313,40.836218],[-89.389003,40.837273],[-89.474068,40.95482],[-89.476167,40.957744],[-89.485317,40.956222],[-89.629493,40.928033],[-89.681103,40.917602],[-89.777173,40.880974],[-89.925396,40.901129],[-89.928996,40.901172],[-90.039086,40.871191],[-90.039892,40.867683]]],"type":"Polygon"},"properties":{"center":[-89.58901895606702,40.69378463124665],"group_index":0,"name":"Peoria","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_b62debee9f7a549a853b1781b93eb160.bindTooltip(`<div>Isochrone for Peoria:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_b62debee9f7a549a853b1781b93eb160.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_68a0e0b9a6efa5013776fc200f8620d6_styler(feature){switch(feature.properties.group_index){default:return{"color":"#FF9900","fillColor":"#FF9900","fillOpacity":0.4,"weight":2};}}
function geo_json_68a0e0b9a6efa5013776fc200f8620d6_onEachFeature(feature,layer){layer.on({});};var geo_json_68a0e0b9a6efa5013776fc200f8620d6=L.geoJson(null,{onEachFeature:geo_json_68a0e0b9a6efa5013776fc200f8620d6_onEachFeature,style:geo_json_68a0e0b9a6efa5013776fc200f8620d6_styler,...{}});function geo_json_68a0e0b9a6efa5013776fc200f8620d6_add(data){geo_json_68a0e0b9a6efa5013776fc200f8620d6.addData(data);}
geo_json_68a0e0b9a6efa5013776fc200f8620d6_add({"features":[{"geometry":{"coordinates":[[[-89.991149,39.735351],[-89.845649,39.678417],[-89.736535,39.587465],[-89.646709,39.475931],[-89.64311,39.476007],[-89.59202,39.566762],[-89.577194,39.592423],[-89.512679,39.668288],[-89.412684,39.677341],[-89.411104,39.680576],[-89.332608,39.812085],[-89.261537,39.814178],[-89.261045,39.81437],[-89.182481,39.834811],[-89.182502,39.83841],[-89.258218,39.854107],[-89.309629,39.854561],[-89.410623,39.934258],[-89.449864,40.058023],[-89.452624,40.060335],[-89.524137,40.021949],[-89.615087,39.981992],[-89.712239,39.982987],[-89.715832,39.982755],[-89.814201,39.904533],[-89.881906,39.864838],[-89.882882,39.861372],[-89.97394,39.741307],[-89.991151,39.738951],[-89.991149,39.735351]]],"type":"Polygon"},"properties":{"center":[-89.64396199848665,39.798808487138885],"group_index":0,"name":"Springfield","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_68a0e0b9a6efa5013776fc200f8620d6.bindTooltip(`<div>Isochrone for Springfield:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_68a0e0b9a6efa5013776fc200f8620d6.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_16d75a4cfedfce1745239bc09dd86a1f_styler(feature){switch(feature.properties.group_index){default:return{"color":"#3366CC","fillColor":"#3366CC","fillOpacity":0.4,"weight":2};}}
function geo_json_16d75a4cfedfce1745239bc09dd86a1f_onEachFeature(feature,layer){layer.on({});};var geo_json_16d75a4cfedfce1745239bc09dd86a1f=L.geoJson(null,{onEachFeature:geo_json_16d75a4cfedfce1745239bc09dd86a1f_onEachFeature,style:geo_json_16d75a4cfedfce1745239bc09dd86a1f_styler,...{}});function geo_json_16d75a4cfedfce1745239bc09dd86a1f_add(data){geo_json_16d75a4cfedfce1745239bc09dd86a1f.addData(data);}
geo_json_16d75a4cfedfce1745239bc09dd86a1f_add({"features":[{"geometry":{"coordinates":[[[-89.558922,42.301434],[-89.558816,42.297135],[-89.558711,42.29285],[-89.558642,42.292158],[-89.555813,42.274438],[-89.544558,42.266069],[-89.475759,42.224542],[-89.358023,42.173552],[-89.297348,42.115452],[-89.294592,42.113136],[-89.260743,42.11063],[-89.220959,42.112286],[-89.099087,42.06178],[-89.071672,42.019409],[-89.022681,41.986615],[-89.019082,41.986642],[-88.932558,42.099699],[-88.871908,42.152431],[-88.800419,42.196727],[-88.712538,42.206702],[-88.71152,42.210156],[-88.786991,42.278681],[-88.823682,42.37193],[-88.824153,42.373298],[-88.849661,42.395242],[-88.913042,42.425278],[-88.984303,42.504942],[-88.986752,42.507581],[-89.036469,42.500554],[-89.10075,42.482662],[-89.194936,42.475139],[-89.198536,42.475163],[-89.285898,42.452305],[-89.331802,42.434072],[-89.360215,42.420667],[-89.404173,42.37699],[-89.4774,42.321312],[-89.55894,42.302534],[-89.558922,42.301434]]],"type":"Polygon"},"properties":{"center":[-89.09380648549796,42.27160374865368],"group_index":0,"name":"Rockford","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_16d75a4cfedfce1745239bc09dd86a1f.bindTooltip(`<div>Isochrone for Rockford:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_16d75a4cfedfce1745239bc09dd86a1f.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);function geo_json_766673a85ca145023be7d49ffbe1fdbc_styler(feature){switch(feature.properties.group_index){default:return{"color":"#990099","fillColor":"#990099","fillOpacity":0.4,"weight":2};}}
function geo_json_766673a85ca145023be7d49ffbe1fdbc_onEachFeature(feature,layer){layer.on({});};var geo_json_766673a85ca145023be7d49ffbe1fdbc=L.geoJson(null,{onEachFeature:geo_json_766673a85ca145023be7d49ffbe1fdbc_onEachFeature,style:geo_json_766673a85ca145023be7d49ffbe1fdbc_styler,...{}});function geo_json_766673a85ca145023be7d49ffbe1fdbc_add(data){geo_json_766673a85ca145023be7d49ffbe1fdbc.addData(data);}
geo_json_766673a85ca145023be7d49ffbe1fdbc_add({"features":[{"geometry":{"coordinates":[[[-89.316402,41.398516],[-89.266754,41.361597],[-89.228251,41.333159],[-89.127651,41.258893],[-89.078344,41.194877],[-88.933678,41.164339],[-88.835562,41.113156],[-88.835473,41.113157],[-88.834755,41.113535],[-88.814514,41.129587],[-88.738984,41.187654],[-88.643772,41.23224],[-88.605449,41.250654],[-88.561251,41.30232],[-88.421836,41.336544],[-88.421538,41.33655],[-88.41974,41.337124],[-88.350771,41.426785],[-88.352523,41.429931],[-88.423462,41.438719],[-88.423617,41.438719],[-88.560463,41.488453],[-88.597334,41.52968],[-88.714933,41.537618],[-88.817509,41.583816],[-88.817636,41.583815],[-88.896603,41.578003],[-88.906307,41.576326],[-89.059989,41.563549],[-89.063566,41.563141],[-89.118399,41.471232],[-89.207495,41.428927],[-89.208151,41.428756],[-89.316095,41.402103],[-89.316402,41.398516]]],"type":"Polygon"},"properties":{"center":[-88.84591504117277,41.351662823954406],"group_index":0,"name":"Ottawa","value":1800.0},"type":"Feature"}],"type":"FeatureCollection"});geo_json_766673a85ca145023be7d49ffbe1fdbc.bindTooltip(`<div>Isochrone for Ottawa:&nbsp;<b>30.0 minutes</b></div>`,{"sticky":true,});geo_json_766673a85ca145023be7d49ffbe1fdbc.addTo(feature_group_e7e72203354548c0d34c1d31925ab2ba);feature_group_e7e72203354548c0d34c1d31925ab2ba.addTo(map_e96e5bad193df4f735d03150b3150734);var feature_group_f0f2fcf89ee97a89d05265cc45e37c41=L.featureGroup({});var marker_7d2c72b1b1db516e4f0090541285dfb3=L.marker([41.8755616,-87.6244212],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_f36796e70a2e2d84e7f97dac29921569=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_be58c308960a84632088fb9c304f100d=L.popup({"maxWidth":300,});var html_6cf1423512515aa59e3538726997d279=$(`<div id="html_6cf1423512515aa59e3538726997d279"style="width: 100.0%; height: 100.0%;"><b>Chicago</b><br>Chicago</div>`)[0];popup_be58c308960a84632088fb9c304f100d.setContent(html_6cf1423512515aa59e3538726997d279);marker_7d2c72b1b1db516e4f0090541285dfb3.bindPopup(popup_be58c308960a84632088fb9c304f100d);marker_7d2c72b1b1db516e4f0090541285dfb3.bindTooltip(`<div>Chicago</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_7d2c72b1b1db516e4f0090541285dfb3.setIcon(icon_f36796e70a2e2d84e7f97dac29921569);var marker_1134f921ff3c43bea93c10eb7854b888=L.marker([41.7728699,-88.1479278],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_b3bb5908a67b828c56015e1561425f01=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_df060f77c655ac858ada71a50e031403=L.popup({"maxWidth":300,});var html_ce15d23dddb11bbc2deafb7b52a62171=$(`<div id="html_ce15d23dddb11bbc2deafb7b52a62171"style="width: 100.0%; height: 100.0%;"><b>Naperville</b><br>Naperville</div>`)[0];popup_df060f77c655ac858ada71a50e031403.setContent(html_ce15d23dddb11bbc2deafb7b52a62171);marker_1134f921ff3c43bea93c10eb7854b888.bindPopup(popup_df060f77c655ac858ada71a50e031403);marker_1134f921ff3c43bea93c10eb7854b888.bindTooltip(`<div>Naperville</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_1134f921ff3c43bea93c10eb7854b888.setIcon(icon_b3bb5908a67b828c56015e1561425f01);var marker_ee3ab415aefce6fdce230b905d012040=L.marker([40.6938609,-89.5891008],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_4e6b2bfe102f6fed2d3adcc6793e70e3=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_2d526978cbd9b73176813147bbe03ebb=L.popup({"maxWidth":300,});var html_f8eb1d82f550e18cdf98a0e25410e044=$(`<div id="html_f8eb1d82f550e18cdf98a0e25410e044"style="width: 100.0%; height: 100.0%;"><b>Peoria</b><br>Peoria</div>`)[0];popup_2d526978cbd9b73176813147bbe03ebb.setContent(html_f8eb1d82f550e18cdf98a0e25410e044);marker_ee3ab415aefce6fdce230b905d012040.bindPopup(popup_2d526978cbd9b73176813147bbe03ebb);marker_ee3ab415aefce6fdce230b905d012040.bindTooltip(`<div>Peoria</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_ee3ab415aefce6fdce230b905d012040.setIcon(icon_4e6b2bfe102f6fed2d3adcc6793e70e3);var marker_25ff8001cf24d03942e3c286eabd57eb=L.marker([39.7990175,-89.6439575],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_51bf5851e89510fa36ce9f88cfd9a281=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_269e21415f3287f27ace2554235f891d=L.popup({"maxWidth":300,});var html_5425f0520ae30f23f689fcd678f5c9a8=$(`<div id="html_5425f0520ae30f23f689fcd678f5c9a8"style="width: 100.0%; height: 100.0%;"><b>Springfield</b><br>Springfield</div>`)[0];popup_269e21415f3287f27ace2554235f891d.setContent(html_5425f0520ae30f23f689fcd678f5c9a8);marker_25ff8001cf24d03942e3c286eabd57eb.bindPopup(popup_269e21415f3287f27ace2554235f891d);marker_25ff8001cf24d03942e3c286eabd57eb.bindTooltip(`<div>Springfield</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_25ff8001cf24d03942e3c286eabd57eb.setIcon(icon_51bf5851e89510fa36ce9f88cfd9a281);var marker_f5643662c82b3fe486fca6b47766f438=L.marker([42.2713945,-89.093966],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_f7b70c5a7e151bc8f6e7ca8d9667cd7f=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_40c8171f31f6be186be20b9940297733=L.popup({"maxWidth":300,});var html_1edd4d544c16e10492192773b62c2544=$(`<div id="html_1edd4d544c16e10492192773b62c2544"style="width: 100.0%; height: 100.0%;"><b>Rockford</b><br>Rockford</div>`)[0];popup_40c8171f31f6be186be20b9940297733.setContent(html_1edd4d544c16e10492192773b62c2544);marker_f5643662c82b3fe486fca6b47766f438.bindPopup(popup_40c8171f31f6be186be20b9940297733);marker_f5643662c82b3fe486fca6b47766f438.bindTooltip(`<div>Rockford</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_f5643662c82b3fe486fca6b47766f438.setIcon(icon_f7b70c5a7e151bc8f6e7ca8d9667cd7f);var marker_93d2b31621aa0a32c74efcf9c67128e6=L.marker([41.3516628,-88.845436],{}).addTo(feature_group_f0f2fcf89ee97a89d05265cc45e37c41);var icon_2b2361eaf8a75056443d22044fa82313=L.AwesomeMarkers.icon({"markerColor":"red","iconColor":"white","icon":"tower","prefix":"glyphicon","extraClasses":"fa-rotate-0",});var popup_8801cdf9b55a73ca0a6e92bc10d3b94e=L.popup({"maxWidth":300,});var html_63146ea3a07e047bffee2fca7f907a9c=$(`<div id="html_63146ea3a07e047bffee2fca7f907a9c"style="width: 100.0%; height: 100.0%;"><b>Ottawa</b><br>Ottawa</div>`)[0];popup_8801cdf9b55a73ca0a6e92bc10d3b94e.setContent(html_63146ea3a07e047bffee2fca7f907a9c);marker_93d2b31621aa0a32c74efcf9c67128e6.bindPopup(popup_8801cdf9b55a73ca0a6e92bc10d3b94e);marker_93d2b31621aa0a32c74efcf9c67128e6.bindTooltip(`<div>Ottawa</div>`,{"permanent":true,"direction":"top","offset":[0,-18],"className":"custom-tooltip","show":true,"sticky":false,});marker_93d2b31621aa0a32c74efcf9c67128e6.setIcon(icon_2b2361eaf8a75056443d22044fa82313);feature_group_f0f2fcf89ee97a89d05265cc45e37c41.addTo(map_e96e5bad193df4f735d03150b3150734);var layer_control_604d787a6680c2cc0f56df90101ab090_layers={base_layers:{"openstreetmap":tile_layer_1cc19511ed4b332de5c27f73f35609d0,},overlays:{"Draw Layer":feature_group_8ee8f113f5ea331b9adaed20f0d0dfc9,"Isochrones":feature_group_e7e72203354548c0d34c1d31925ab2ba,"City Centers":feature_group_f0f2fcf89ee97a89d05265cc45e37c41,},};let layer_control_604d787a6680c2cc0f56df90101ab090=L.control.layers(layer_control_604d787a6680c2cc0f56df90101ab090_layers.base_layers,layer_control_604d787a6680c2cc0f56df90101ab090_layers.overlays,{"position":"topright","collapsed":true,"autoZIndex":true,}).addTo(map_e96e5bad193df4f735d03150b3150734);var options={position:"topleft",draw:{"circle":{"feet":false,"metric":false,"nauticalmiles":false,"shapeOptions":{},"showRadius":true},"polygon":{"feet":false,"metric":false,"nauticalmiles":false,"showArea":true},"polyline":{"feet":false,"metric":false,"nauticalmiles":false,"showLength":true},"rectangle":{"feet":false,"metric":false,"nauticalmiles":false,"showArea":true}},edit:{"featureGroup":"editLayer"},}
var drawnItems_draw_control_dc0277ef77486f2fcc73f69a0920acc4=feature_group_8ee8f113f5ea331b9adaed20f0d0dfc9;options.edit.featureGroup=drawnItems_draw_control_dc0277ef77486f2fcc73f69a0920acc4;var draw_control_dc0277ef77486f2fcc73f69a0920acc4=new L.Control.Draw(options).addTo(map_e96e5bad193df4f735d03150b3150734);map_e96e5bad193df4f735d03150b3150734.on(L.Draw.Event.CREATED,function(e){var layer=e.layer,type=e.layerType;var coords=JSON.stringify(layer.toGeoJSON());drawnItems_draw_control_dc0277ef77486f2fcc73f69a0920acc4.addLayer(layer);});map_e96e5bad193df4f735d03150b3150734.on('draw:created',function(e){drawnItems_draw_control_dc0277ef77486f2fcc73f69a0920acc4.addLayer(e.layer);});const map=map_e96e5bad193df4f735d03150b3150734;function haversineDistance(latlngs){const R=6371000;let totalDistance=0;for(let i=0;i<latlngs.length-1;i++){const[lat1,lon1]=[latlngs[i].lat,latlngs[i].lng];const[lat2,lon2]=[latlngs[i+1].lat,latlngs[i+1].lng];const dLat=((lat2-lat1)*Math.PI)/180;const dLon=((lon2-lon1)*Math.PI)/180;const a=Math.sin(dLat/2)*Math.sin(dLat/2)+
Math.cos((lat1*Math.PI)/180)*Math.cos((lat2*Math.PI)/180)*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));totalDistance+=R*c;}
return totalDistance;}
map.on(L.Draw.Event.CREATED,function(e){const layer=e.layer,type=e.layerType;if(type==='polyline'){const latlngs=layer.getLatLngs();const length=haversineDistance(latlngs);const lengthInMiles=(length*0.000621371).toFixed(2);layer.bindTooltip(`Length:${lengthInMiles}miles`,{permanent:false,direction:'top',offset:[0,-10],}).openTooltip();}else if(type==='polygon'||type==='rectangle'){const area=L.GeometryUtil.geodesicArea(layer.getLatLngs()[0]);const areaInAcres=(area*0.000247105).toFixed(2);layer.bindTooltip(`Area:${areaInAcres}acres`,{permanent:false,direction:'top',offset:[0,-10],});}else if(type==='circle'){const radiusInMiles=(layer.getRadius()*0.000621371).toFixed(2);layer.bindTooltip(`Radius:${radiusInMiles}miles`,{permanent:false,direction:'top',offset:[0,-10],});}else if(type==='marker'){const lat=layer.getLatLng().lat.toFixed(6);const lng=layer.getLatLng().lng.toFixed(6);layer.bindTooltip(`Coordinates:(${lat},${lng})`,{permanent:false,direction:'top',offset:[0,0],});}
map.addLayer(layer);});let isIsochroneMode=false;let layerControl=null;const button=L.control({position:'topright'});button.onAdd=function(map){const div=L.DomUtil.create('div','leaflet-bar leaflet-control leaflet-control-custom');div.innerHTML='<button id="isochrone-btn" style="background-color: white; border: none; padding: 5px; cursor: pointer;">Add Isochrone</button>';div.style.backgroundColor='white';div.style.width='auto';div.style.height='auto';return div;};button.addTo(map);document.getElementById('isochrone-btn').addEventListener('click',function(event){event.stopPropagation();console.log('Add Isochrone button clicked');isIsochroneMode=true;map.eachLayer(function(layer){if(layer instanceof L.Marker){layer.off('click');}});let tooltip=L.tooltip({permanent:false,direction:'right',offset:[12,0],});function onMouseMove(e){const lat=e.latlng.lat.toFixed(6);const lng=e.latlng.lng.toFixed(6);tooltip.setLatLng(e.latlng).setContent(`Lat:${lat},Lng:${lng}<br>Click Here`).addTo(map);}
map.on('mousemove',onMouseMove);function onMapClick(e){const lat=e.latlng.lat;const lng=e.latlng.lng;console.log(`Map clicked at latitude:${lat},longitude:${lng}`);const isochroneLayer=L.featureGroup().addTo(map);const inputName=prompt('Enter a name for the isochrone layer:','Isochrone');const layerName=`${inputName}&nbsp;at&nbsp;(${lat.toFixed(6)},&nbsp;${lng.toFixed(6)})`;if(!layerControl){layerControl=L.control.layers(null,{},{collapsed:false}).addTo(map);const layerControlName=prompt('Enter a name for the layer control:','User Generated Layers');const title=document.createElement('div');title.style='font-weight: bold; font-size: 14px; margin-bottom: 5px; border-bottom: 1px solid #ccc;';title.innerHTML=layerControlName;layerControl.getContainer().insertBefore(title,layerControl.getContainer().firstChild);}
layerControl.addOverlay(isochroneLayer,layerName);fetch(`/generate_isochrone?lat=${lat}&lng=${lng}&time=1800`).then((response)=>{if(!response.ok){throw new Error(`Server error:${response.statusText}`);}
return response.json();}).then((data)=>{if(!data||!data.features){throw new Error('Invalid GeoJSON object.');}
const isochronePolygon=L.geoJSON(data,{style:{color:'blue',weight:2,fillOpacity:0.4,},});isochronePolygon.addTo(isochroneLayer);isochronePolygon.bindTooltip(`Isochrone for ${layerName}`,{permanent:false,direction:'top',offset:[0,-10],});}).catch((error)=>{console.error('Error generating isochrone:',error);alert(`Failed to generate isochrone:${error.message}`);});cleanup();}
map.once('click',onMapClick);function onKeyDown(e){if(e.key==='Escape'){console.log('Escape key pressed, ending isochrone event');cleanup();}}
document.addEventListener('keydown',onKeyDown);function cleanup(){isIsochroneMode=false;map.eachLayer(function(layer){if(layer instanceof L.Marker){layer.on('click',function(e){layer.openPopup();});}});map.off('mousemove',onMouseMove);map.off('click',onMapClick);map.removeLayer(tooltip);document.removeEventListener('keydown',onKeyDown);}});</script></html>